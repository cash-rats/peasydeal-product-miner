version: "2"
sql:
  - schema: "db/schema.sql"  # 關鍵：直接指向存放 .sql migration 檔的資料夾
    queries: "db/query"      # 這裡放你平常寫的 CRUD SQL (query.sql)
    engine: "sqlite"         # Turso 兼容 SQLite，這裡填 sqlite
    gen:
      go:
        package: "sqlcdb"    # 生成的 Go package 名稱
        out: "db/sqlc"       # 生成的 .go 檔案輸出的路徑 (avoid clobbering existing db package)

        # 讓生成的 Struct 有 JSON tag (例如: `json:"created_at"`)
        # 這樣你可以直接把 Struct return 給前端 API，不用再轉一手
        emit_json_tags: true

        # 如果欄位是 NULL，使用指標 (例如 *string) 而不是 sql.NullString
        # 許多開發者覺得指標比 sql.NullString 更直覺，看你喜好
        emit_pointers_for_null_types: true
